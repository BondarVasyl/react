{"ast":null,"code":"import _defineProperty from \"/home/bondar/trying/students-redux (copy)/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/bondar/trying/students-redux (copy)/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _handleActions;\n\nimport _ from 'lodash';\nimport { createAction, handleActions } from 'redux-actions';\nimport { resolve, request, reject } from 'redux-promised'; // ------------------------------------\n// Constants\n// ------------------------------------\n\nexport var NAMESPACE = 'students';\nexport var GET_STUDENTS = NAMESPACE + '/' + 'GET_STUDENTS';\nexport var REVERSE_STUDENTS = NAMESPACE + '/' + 'REVERSE_STUDENTS';\nexport var ADD_STUDENTS = NAMESPACE + '/' + 'ADD_STUDENTS';\nvar url = 'http://km.softbistro.online:20080/coins/'; // ------------------------------------\n// Actions\n// ------------------------------------\n\nvar getStudents = function getStudents() {\n  return {\n    type: GET_STUDENTS,\n    meta: {\n      promise: true\n    },\n    payload: fetch(url, {\n      method: 'GET',\n      mode: 'no-cors'\n    }).then(function (response) {\n      return response.json();\n    })\n  };\n};\n\nexport var reverseStudents = createAction(REVERSE_STUDENTS);\nexport var addStudents = createAction(ADD_STUDENTS);\nexport var actions = {\n  getStudents: getStudents,\n  reverseStudents: reverseStudents,\n  addStudents: addStudents // ------------------------------------\n  // Reducer\n  // ------------------------------------\n\n};\nexport default handleActions((_handleActions = {}, _defineProperty(_handleActions, resolve(GET_STUDENTS), function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {\n    data: payload,\n    dataFethcing: false\n  });\n}), _defineProperty(_handleActions, reject(GET_STUDENTS), function (state, _ref2) {\n  var payload = _ref2.payload;\n  return _objectSpread({}, state, {\n    data: null,\n    dataFethcing: false\n  });\n}), _defineProperty(_handleActions, request(GET_STUDENTS), function (state, _ref3) {\n  var payload = _ref3.payload;\n  return _objectSpread({}, state, {\n    data: null,\n    dataFethcing: true\n  });\n}), _defineProperty(_handleActions, REVERSE_STUDENTS, function (state) {\n  return _objectSpread({}, state, {\n    reversed: !state.reversed\n  });\n}), _defineProperty(_handleActions, ADD_STUDENTS, function (state, s) {\n  state.data.push(s.payload);\n  return _objectSpread({}, state, {\n    data: _.clone(state.data)\n  });\n}), _handleActions), {\n  reversed: false\n}); // ------------------------------------\n// Helpers\n// ------------------------------------","map":{"version":3,"sources":["/home/bondar/trying/students-redux (copy)/src/redux/modules/students.js"],"names":["_","createAction","handleActions","resolve","request","reject","NAMESPACE","GET_STUDENTS","REVERSE_STUDENTS","ADD_STUDENTS","url","getStudents","type","meta","promise","payload","fetch","method","mode","then","response","json","reverseStudents","addStudents","actions","state","data","dataFethcing","reversed","s","push","clone"],"mappings":";;;;;AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,SAASC,YAAT,EAAwBC,aAAxB,QAA6C,eAA7C;AACA,SAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,QAAyC,gBAAzC,C,CAGA;AACA;AACA;;AACA,OAAO,IAAMC,SAAS,GAAG,UAAlB;AACP,OAAO,IAAMC,YAAY,GAAGD,SAAS,GAAC,GAAV,GAAc,cAAnC;AACP,OAAO,IAAME,gBAAgB,GAAGF,SAAS,GAAC,GAAV,GAAc,kBAAvC;AACP,OAAO,IAAMG,YAAY,GAAGH,SAAS,GAAC,GAAV,GAAc,cAAnC;AACP,IAAMI,GAAG,GAAI,0CAAb,C,CAGA;AACA;AACA;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,SAAM;AACFC,IAAAA,IAAI,EAAEL,YADJ;AAEFM,IAAAA,IAAI,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAFJ;AAGFC,IAAAA,OAAO,EAAEC,KAAK,CAACN,GAAD,EAAM;AAChBO,MAAAA,MAAM,EAAE,KADQ;AAEhBC,MAAAA,IAAI,EAAC;AAFW,KAAN,CAAL,CAGNC,IAHM,CAGD,UAAAC,QAAQ;AAAA,aAAEA,QAAQ,CAACC,IAAT,EAAF;AAAA,KAHP;AAHP,GAAN;AAQH,CATD;;AAWA,OAAO,IAAMC,eAAe,GAAIrB,YAAY,CAACO,gBAAD,CAArC;AACP,OAAO,IAAMe,WAAW,GAAItB,YAAY,CAACQ,YAAD,CAAjC;AAGP,OAAO,IAAMe,OAAO,GAAG;AACnBb,EAAAA,WAAW,EAAXA,WADmB;AAEnBW,EAAAA,eAAe,EAAfA,eAFmB;AAGnBC,EAAAA,WAAW,EAAXA,WAHmB,CAMvB;AACA;AACA;;AARuB,CAAhB;AASP,eAAerB,aAAa,uDACvBC,OAAO,CAACI,YAAD,CADgB,EACC,UAACkB,KAAD,QAAwB;AAAA,MAAdV,OAAc,QAAdA,OAAc;AAC7C,2BAAUU,KAAV;AAAiBC,IAAAA,IAAI,EAACX,OAAtB;AAA+BY,IAAAA,YAAY,EAAC;AAA5C;AACH,CAHuB,mCAIvBtB,MAAM,CAACE,YAAD,CAJiB,EAIA,UAACkB,KAAD;AAAA,MAAUV,OAAV,SAAUA,OAAV;AAAA,2BAA6BU,KAA7B;AAAoCC,IAAAA,IAAI,EAAC,IAAzC;AAA+CC,IAAAA,YAAY,EAAC;AAA5D;AAAA,CAJA,mCAKvBvB,OAAO,CAACG,YAAD,CALgB,EAKC,UAACkB,KAAD;AAAA,MAAUV,OAAV,SAAUA,OAAV;AAAA,2BAA6BU,KAA7B;AAAoCC,IAAAA,IAAI,EAAC,IAAzC;AAA+CC,IAAAA,YAAY,EAAC;AAA5D;AAAA,CALD,mCAMvBnB,gBANuB,EAML,UAAAiB,KAAK,EAAI;AAAC,2BAAWA,KAAX;AAAkBG,IAAAA,QAAQ,EAAC,CAACH,KAAK,CAACG;AAAlC;AAA4C,CANjD,mCAOvBnB,YAPuB,EAOT,UAACgB,KAAD,EAAOI,CAAP,EAAY;AAACJ,EAAAA,KAAK,CAACC,IAAN,CAAWI,IAAX,CAAgBD,CAAC,CAACd,OAAlB;AAA4B,2BAAWU,KAAX;AAAiBC,IAAAA,IAAI,EAAE1B,CAAC,CAAC+B,KAAF,CAAQN,KAAK,CAACC,IAAd;AAAvB;AAA4C,CAP5E,oBAQ1B;AAACE,EAAAA,QAAQ,EAAC;AAAV,CAR0B,CAA5B,C,CAUA;AACA;AACA","sourcesContent":["import _ from 'lodash'\nimport { createAction , handleActions } from 'redux-actions'\nimport { resolve, request, reject } from 'redux-promised'\n\n\n// ------------------------------------\n// Constants\n// ------------------------------------\nexport const NAMESPACE = 'students'\nexport const GET_STUDENTS = NAMESPACE+'/'+'GET_STUDENTS'\nexport const REVERSE_STUDENTS = NAMESPACE+'/'+'REVERSE_STUDENTS'\nexport const ADD_STUDENTS = NAMESPACE+'/'+'ADD_STUDENTS'\nconst url  = 'http://km.softbistro.online:20080/coins/'\n\n\n// ------------------------------------\n// Actions\n// ------------------------------------\nconst getStudents = () => {\n    return{\n        type: GET_STUDENTS,\n        meta: { promise: true },\n        payload: fetch(url, {\n            method: 'GET',\n            mode:'no-cors'\n        }).then(response=>response.json())\n    }\n}\n\nexport const reverseStudents  = createAction(REVERSE_STUDENTS)\nexport const addStudents  = createAction(ADD_STUDENTS)\n\n\nexport const actions = {\n    getStudents,\n    reverseStudents,\n    addStudents\n}\n\n// ------------------------------------\n// Reducer\n// ------------------------------------\nexport default handleActions({\n    [resolve(GET_STUDENTS)]: (state, { payload }) => {\n        return{...state, data:payload, dataFethcing:false}\n    },\n    [reject(GET_STUDENTS)]: (state, { payload }) => ({...state, data:null, dataFethcing:false}),\n    [request(GET_STUDENTS)]: (state, { payload }) => ({...state, data:null, dataFethcing:true}),\n    [REVERSE_STUDENTS]:state => {return {...state, reversed:!state.reversed}},\n    [ADD_STUDENTS]:(state,s) =>{state.data.push(s.payload); return {...state,data: _.clone(state.data)}}\n},{reversed:false})\n\n// ------------------------------------\n// Helpers\n// ------------------------------------\n\n\n\n"]},"metadata":{},"sourceType":"module"}